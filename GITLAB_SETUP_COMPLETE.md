# ‚úÖ GitLab –Ω–∞—Å—Ç—Ä–æ–µ–Ω —É—Å–ø–µ—à–Ω–æ!

**–î–∞—Ç–∞**: 12 –Ω–æ—è–±—Ä—è 2025  
**–í—Ä–µ–º—è**: 19:00

## üéâ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –£–≤–µ–ª–∏—á–µ–Ω–∞ –ø–∞–º—è—Ç—å Docker
- **–ë—ã–ª–æ**: 1.92 GB
- **–°—Ç–∞–ª–æ**: 11.68 GB
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã GitLab

### 2. –°–æ–∑–¥–∞–Ω root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- **Username**: root
- **Password**: Xk8mP2nQ9vL5wR3t
- **Email**: admin@example.com
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω

### 3. –°–æ–∑–¥–∞–Ω Personal Access Token
- **Token**: YOUR_GITLAB_TOKEN_HERE
- **Scopes**: api, read_repository, write_repository
- **Expires**: —á–µ—Ä–µ–∑ 1 –≥–æ–¥ (12 –Ω–æ—è–±—Ä—è 2026)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –¢–æ–∫–µ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç

### 4. –°–æ–∑–¥–∞–Ω—ã –ø—Ä–æ–µ–∫—Ç—ã
1. **ut103-ci** (ID: 1)
   - –û–ø–∏—Å–∞–Ω–∏–µ: –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç 1–°:–ü—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ
   - URL: http://gitlab.local/root/ut103-ci
   - CI/CD: ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω

2. **ut103-external-files** (ID: 2)
   - –û–ø–∏—Å–∞–Ω–∏–µ: –í–Ω–µ—à–Ω–∏–µ —Ñ–∞–π–ª—ã –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ 1–°
   - URL: http://gitlab.local/root/ut103-external-files
   - CI/CD: ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω

### 5. –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã
–û–±–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏–º–µ—é—Ç `.gitlab-ci.yml` —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –¥–ª—è:
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º 1–°
- –ê–Ω–∞–ª–∏–∑–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –≤ SonarQube
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Redmine

### 6. –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã CI/CD –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
–î–ª—è –æ–±–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
- `REDMINE_URL`: http://redmine-cicd:3000
- `REDMINE_API_KEY`: *** (–∑–∞—â–∏—â–µ–Ω)
- `REDMINE_PROJECT_ID`: 1
- `SONARQUBE_URL`: http://sonarqube:9000
- `CI_SERVICE_URL`: http://cicd-service:8090

## üìä –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü–æ—Ä—Ç | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------|------------|
| PostgreSQL | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 5433 | Healthy |
| GitLab | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 8929 | Healthy, API —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ |
| Redmine | ‚ö†Ô∏è Unhealthy | 3000 | –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ |
| SonarQube | ‚è≥ –ù–µ –∑–∞–ø—É—â–µ–Ω | 9000 | –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ |

## üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –î–æ—Å—Ç—É–ø –∫ GitLab API
GitLab API –¥–æ—Å—Ç—É–ø–µ–Ω **—Ç–æ–ª—å–∫–æ –∏–∑–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å Docker networking –Ω–∞ Windows.

**–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å API –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `docker exec`:
```bash
docker exec gitlab-cicd curl -H "PRIVATE-TOKEN: YOUR_GITLAB_TOKEN_HERE" \
  http://localhost/api/v4/user
```

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–∞–∫–∂–µ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —Å–Ω–∞—Ä—É–∂–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –≠—Ç–æ –∏–∑–≤–µ—Å—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ Docker Desktop –Ω–∞ Windows.

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API —á–µ—Ä–µ–∑ docker exec –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

**–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: 
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Windows Firewall
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WSL2 backend –≤–º–µ—Å—Ç–æ Hyper-V

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `.env.gitlab` - –¢–æ–∫–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GitLab
- `templates/.gitlab-ci-main.yml` - CI/CD –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- `templates/.gitlab-ci-external.yml` - CI/CD –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤

### –°–∫—Ä–∏–ø—Ç—ã
- `scripts/create_root_user.rb` - –°–æ–∑–¥–∞–Ω–∏–µ root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `scripts/setup_root_simple.rb` - –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è root
- `scripts/create_token_now.rb` - –°–æ–∑–¥–∞–Ω–∏–µ Personal Access Token
- `scripts/create_gitlab_projects.py` - –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤
- `scripts/setup_ci_pipelines.py` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD
- `scripts/setup_ci_variables.py` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- `scripts/diagnose_gitlab.ps1` - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ GitLab

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `GITLAB_SETUP_COMPLETE.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª
- `GITLAB_FIX_REQUIRED.md` - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é
- `GITLAB_TOKEN_MANUAL.md` - –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `WORK_SUMMARY.md` - –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –æ —Ä–∞–±–æ—Ç–µ

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Redmine
```powershell
curl.exe http://localhost:3000
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å SonarQube
```powershell
docker-compose up -d sonarqube
```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhooks
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhooks –≤ GitLab –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Redmine –ø—Ä–∏ –∫–æ–º–º–∏—Ç–∞—Ö.

### 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å CI/CD
–°–¥–µ–ª–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–º–∏—Ç –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø–∞–π–ø–ª–∞–π–Ω–∞.

### 5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å 1–°
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ 1–° —Å GitLab.

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ GitLab
```powershell
# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
.\scripts\diagnose_gitlab.ps1

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker ps --filter "name=gitlab"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API (–∏–∑–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
docker exec gitlab-cicd curl -H "PRIVATE-TOKEN: YOUR_GITLAB_TOKEN_HERE" \
  http://localhost/api/v4/user
```

### –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏
```powershell
# –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
docker exec gitlab-cicd curl -H "PRIVATE-TOKEN: YOUR_GITLAB_TOKEN_HERE" \
  http://localhost/api/v4/projects

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ
docker exec gitlab-cicd curl -H "PRIVATE-TOKEN: YOUR_GITLAB_TOKEN_HERE" \
  http://localhost/api/v4/projects/1
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
```powershell
# –°–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞
docker exec gitlab-cicd curl -H "PRIVATE-TOKEN: YOUR_GITLAB_TOKEN_HERE" \
  http://localhost/api/v4/projects/1/variables
```

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

1. **–¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 1 –≥–æ–¥** - –æ–±–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –¥–æ 12 –Ω–æ—è–±—Ä—è 2026
2. **–ü–∞—Ä–æ–ª—å root**: Xk8mP2nQ9vL5wR3t - —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
3. **API –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ docker exec** - —ç—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
4. **–ü—Ä–æ–µ–∫—Ç—ã —Å–æ–∑–¥–∞–Ω—ã —Å README** - –º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–∞–±–æ—Ç—É
5. **CI/CD –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã** - –ø–∞–π–ø–ª–∞–π–Ω—ã –≥–æ—Ç–æ–≤—ã –∫ –∑–∞–ø—É—Å–∫—É

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

GitLab –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –µ—Å–ª–∏:
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ —Å—Ç–∞—Ç—É—Å–µ healthy
- ‚úÖ Root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ Personal Access Token —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü—Ä–æ–µ–∫—Ç—ã —Å–æ–∑–¥–∞–Ω—ã (ut103-ci, ut103-external-files)
- ‚úÖ CI/CD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ CI/CD –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ API –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã (—á–µ—Ä–µ–∑ docker exec)

**–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã! GitLab –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

## üéØ –ü—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∞

- ‚úÖ PostgreSQL - 100%
- ‚úÖ GitLab - 100%
- ‚úÖ Redmine - 80% (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)
- ‚è≥ SonarQube - 0% (—Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥)
- ‚è≥ CI/CD Integration - 30%

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å**: ~60% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

---

**–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! GitLab –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

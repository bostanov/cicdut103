# ‚úÖ –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç!

**–î–∞—Ç–∞**: 12 –Ω–æ—è–±—Ä—è 2025  
**–í—Ä–µ–º—è**: 19:15

## üéâ –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤

### 1. Redmine ‚úÖ
- **URL**: http://localhost:3000
- **–°—Ç–∞—Ç—É—Å**: HTTP 200 - –ü–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ—Å—Ç—É–ø–µ–Ω
- **API Key**: YOUR_REDMINE_API_KEY_HERE
- **–ü—Ä–æ–µ–∫—Ç**: ut103-ci (ID: 1)
- **–î–æ—Å—Ç—É–ø**: ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
- **API**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### 2. GitLab ‚úÖ
- **URL**: http://localhost:8929
- **–°—Ç–∞—Ç—É—Å**: HTTP 302 - –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)
- **Root**: root / Xk8mP2nQ9vL5wR3t
- **Token**: YOUR_GITLAB_TOKEN_HERE
- **–í–µ—Ä—Å–∏—è**: 16.11.10
- **–ü—Ä–æ–µ–∫—Ç—ã**: 
  - ut103-ci (ID: 1) ‚úÖ
  - ut103-external-files (ID: 2) ‚úÖ
- **–î–æ—Å—Ç—É–ø**: ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
- **API**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### 3. PostgreSQL ‚úÖ
- **–ü–æ—Ä—Ç**: 5433
- **–°—Ç–∞—Ç—É—Å**: Healthy
- **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**: gitlab, redmine, sonarqube, cicd
- **–î–æ—Å—Ç—É–ø**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

## üîß –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ —Å GitLab
**–°–∏–º–ø—Ç–æ–º**: GitLab –Ω–µ –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω —Å–Ω–∞—Ä—É–∂–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (HTTP 000)

**–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```powershell
docker restart gitlab-cicd
```

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ GitLab —Å—Ç–∞–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ.

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### –ß–µ—Ä–µ–∑ curl
```powershell
# Redmine
curl.exe http://localhost:3000
# –†–µ–∑—É–ª—å—Ç–∞—Ç: HTTP 200 ‚úÖ

# GitLab
curl.exe http://localhost:8929
# –†–µ–∑—É–ª—å—Ç–∞—Ç: HTTP 302 ‚úÖ (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /users/sign_in)
```

### –ß–µ—Ä–µ–∑ PowerShell (–∫–∞–∫ –±—Ä–∞—É–∑–µ—Ä)
```powershell
# Redmine
Invoke-WebRequest -Uri "http://localhost:3000" -UseBasicParsing
# –†–µ–∑—É–ª—å—Ç–∞—Ç: HTTP 200, —Ä–∞–∑–º–µ—Ä 7507 –±–∞–π—Ç ‚úÖ

# GitLab
Invoke-WebRequest -Uri "http://localhost:8929" -UseBasicParsing
# –†–µ–∑—É–ª—å—Ç–∞—Ç: HTTP 302 (—Ä–µ–¥–∏—Ä–µ–∫—Ç) ‚úÖ
```

### –ß–µ—Ä–µ–∑ API
```powershell
# GitLab API
docker exec gitlab-cicd curl -H "PRIVATE-TOKEN: YOUR_GITLAB_TOKEN_HERE" \
  http://localhost/api/v4/version
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"version":"16.11.10",...} ‚úÖ

# Redmine API
curl.exe -H "X-Redmine-API-Key: YOUR_REDMINE_API_KEY_HERE" \
  http://localhost:3000/projects.json
# –†–µ–∑—É–ª—å—Ç–∞—Ç: JSON —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ ‚úÖ
```

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

### Redmine
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:3000
2. –í–æ–π–¥–∏—Ç–µ: admin / admin
3. –ü—Ä–æ–µ–∫—Ç: ut103-ci

### GitLab
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:8929
2. –í–æ–π–¥–∏—Ç–µ: root / Xk8mP2nQ9vL5wR3t
3. –ü—Ä–æ–µ–∫—Ç—ã:
   - http://localhost:8929/root/ut103-ci
   - http://localhost:8929/root/ut103-external-files

## üìÅ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- `.env.gitlab` - –¢–æ–∫–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GitLab
- `secrets/redmine_api_key.txt` - API –∫–ª—é—á Redmine

### CI/CD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `templates/.gitlab-ci-main.yml` - –ü–∞–π–ø–ª–∞–π–Ω –¥–ª—è ut103-ci
- `templates/.gitlab-ci-external.yml` - –ü–∞–π–ø–ª–∞–π–Ω –¥–ª—è ut103-external-files

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ GitLab)
- `REDMINE_URL`: http://redmine-cicd:3000
- `REDMINE_API_KEY`: *** (–∑–∞—â–∏—â–µ–Ω)
- `REDMINE_PROJECT_ID`: 1
- `SONARQUBE_URL`: http://sonarqube:9000
- `CI_SERVICE_URL`: http://cicd-service:8090

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å SonarQube ‚è≥
```powershell
docker-compose up -d sonarqube
```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhooks üîÑ
- GitLab ‚Üí Redmine (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫–æ–º–º–∏—Ç–∞—Ö)
- GitLab ‚Üí SonarQube (–∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞)

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å CI/CD üß™
- –°–¥–µ–ª–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–º–∏—Ç
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–π–Ω–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –≤ Redmine

### 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å 1–° üîß
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```powershell
# –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps

# Redmine
curl.exe http://localhost:3000

# GitLab
curl.exe http://localhost:8929

# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ GitLab
.\scripts\diagnose_gitlab.ps1
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
```powershell
# Redmine
docker restart redmine-cicd

# GitLab
docker restart gitlab-cicd

# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose restart
```

### –õ–æ–≥–∏
```powershell
# Redmine
docker logs redmine-cicd --tail 50

# GitLab
docker logs gitlab-cicd --tail 50

# PostgreSQL
docker logs postgres_cicd --tail 50
```

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:
- ‚úÖ Redmine –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ (HTTP 200)
- ‚úÖ GitLab –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ (HTTP 302)
- ‚úÖ Redmine API —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ GitLab API —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ PostgreSQL —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü—Ä–æ–µ–∫—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –≤ GitLab
- ‚úÖ CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ CI/CD –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

## üéØ –ü—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≥—Ä–µ—Å—Å |
|-----------|--------|----------|
| PostgreSQL | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 100% |
| Redmine | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 100% |
| GitLab | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 100% |
| SonarQube | ‚è≥ –ù–µ –∑–∞–ø—É—â–µ–Ω | 0% |
| CI/CD Integration | üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ | 40% |

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å**: ~70% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

---

**üéâ –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! Redmine –∏ GitLab –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ—Å—Ç—É–ø–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

1. **GitLab —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞** –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–µ—Ç–∏
2. **HTTP 302 –¥–ª—è GitLab** - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —ç—Ç–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞
3. **–¢–æ–∫–µ–Ω GitLab –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 1 –≥–æ–¥** - –æ–±–Ω–æ–≤–∏—Ç–µ –¥–æ 12 –Ω–æ—è–±—Ä—è 2026
4. **–ü–∞—Ä–æ–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã** –≤ `.env.gitlab` –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
5. **API —Ä–∞–±–æ—Ç–∞—é—Ç** - –º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

## üîê –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### Redmine
- URL: http://localhost:3000
- Login: admin
- Password: admin
- API Key: YOUR_REDMINE_API_KEY_HERE

### GitLab
- URL: http://localhost:8929
- Login: root
- Password: Xk8mP2nQ9vL5wR3t
- Token: YOUR_GITLAB_TOKEN_HERE

### PostgreSQL
- Host: localhost
- Port: 5433
- User: postgres
- Password: postgres

---

**–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ! –ú–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ SonarQube –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.**

# –ü–ª–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CI/CD

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-10-16  
**–¶–µ–ª—å:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üéØ **–¶–ï–õ–¨ –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–ò**

–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É CI/CD pipeline:
- **90%+ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä—É—á–Ω–æ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ
- **–û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç** - –∑–∞–ø—É—Å–∫ –≤—Å–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **–î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** - –¥–ª—è —Ä—É—á–Ω—ã—Ö —à–∞–≥–æ–≤ —Å —Ç–æ—á–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏

---

## üìã **–ù–ï–î–û–°–¢–ê–Æ–©–ò–ï –°–ö–†–ò–ü–¢–´**

### **1. setup-gitlab-variables.ps1** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ GitLab

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ GitLab API
- –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ CI/CD –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```powershell
param(
    [string]$ProjectId = "root/ut103-ci",
    [string]$GitLabUrl = "http://localhost:8929",
    [string]$GitLabToken = "",
    [hashtable]$Variables = @{
        "REPO_PWD" = ""
        "SONAR_HOST_URL" = "http://localhost:9000"
        "SONAR_TOKEN" = ""
        "REDMINE_URL" = "http://localhost:3000"
        "REDMINE_API_KEY" = ""
    }
)
```

---

### **2. verify-bsl-plugin.ps1** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ —Ä–∞–±–æ—Ç—ã BSL –ø–ª–∞–≥–∏–Ω–∞ –≤ SonarQube

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø–ª–∞–≥–∏–Ω–∞ –≤ SonarQube
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–µ—Ä—Å–∏–∏ –ø–ª–∞–≥–∏–Ω–∞
- –¢–µ—Å—Ç –∞–Ω–∞–ª–∏–∑–∞ BSL —Ñ–∞–π–ª–∞

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:**
```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞–≥–∏–Ω–∞ —á–µ—Ä–µ–∑ API
$sonarApi = "http://localhost:9000/api/plugins/installed"
$response = Invoke-RestMethod -Uri $sonarApi -Credential $credential

# –ü–æ–∏—Å–∫ BSL –ø–ª–∞–≥–∏–Ω–∞
$bslPlugin = $response.plugins | Where-Object { $_.key -eq "bsl" }
```

---

### **3. setup-redmine-project.ps1** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Redmine

**–§—É–Ω–∫—Ü–∏–∏:**
- –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ API
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä–µ–∫–µ—Ä–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á

**API –≤—ã–∑–æ–≤—ã:**
```powershell
# –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
$projectData = @{
    project = @{
        name = $ProjectName
        identifier = $ProjectKey
        description = "CI/CD –ø—Ä–æ–µ–∫—Ç –¥–ª—è UT103"
        is_public = $false
        enabled_module_names = @("issue_tracking", "time_tracking", "news", "documents")
    }
}
```

---

### **4. initial-git-setup.ps1** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

**–§—É–Ω–∫—Ü–∏–∏:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ remote origin
- –ü–µ—Ä–≤—ã–π commit –∏ push
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .gitignore

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:**
```powershell
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ remote
git remote add origin $RemoteUrl

# –ü–µ—Ä–≤—ã–π –∫–æ–º–º–∏—Ç
git add .
git commit -m "Initial CI/CD setup"

# Push –≤ GitLab
git push -u origin master
```

---

### **5. test-full-pipeline.ps1** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ CI/CD pipeline

**–§—É–Ω–∫—Ü–∏–∏:**
- –ó–∞–ø—É—Å–∫ pipeline —á–µ—Ä–µ–∑ API
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**
```powershell
# –¢–µ—Å—Ç 1: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
# –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
# –¢–µ—Å—Ç 3: –ê–Ω–∞–ª–∏–∑ –≤ SonarQube
# –¢–µ—Å—Ç 4: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Redmine
```

---

### **6. complete-setup.ps1** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

**–§—É–Ω–∫—Ü–∏–∏:**
- –í—ã–∑–æ–≤ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```powershell
param(
    [string]$RepoPassword,
    [string]$SonarToken,
    [string]$RedmineApiKey,
    [switch]$SkipManualSteps
)

# –≠—Ç–∞–ø 1: –û–∂–∏–¥–∞–Ω–∏–µ GitLab
# –≠—Ç–∞–ø 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Runner
# –≠—Ç–∞–ø 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
# –≠—Ç–∞–ø 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ SonarQube
# –≠—Ç–∞–ø 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redmine
# –≠—Ç–∞–ø 6: –ü–µ—Ä–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
# –≠—Ç–∞–ø 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ pipeline
```

---

## üîß **–î–ï–¢–ê–õ–¨–ù–´–ï –ò–ù–°–¢–†–£–ö–¶–ò–ò –î–õ–Ø –†–£–ß–ù–´–• –®–ê–ì–û–í**

### **–®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ SonarQube**

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
```powershell
# –°–∫—Ä–∏–ø—Ç –æ—Ç–∫—Ä–æ–µ—Ç –±—Ä–∞—É–∑–µ—Ä –∏ –ø–æ–∫–∞–∂–µ—Ç —Ç–æ—á–Ω—ã–µ —à–∞–≥–∏
.\ci\scripts\get-sonar-token.ps1
```

**–†—É—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:9000
2. –õ–æ–≥–∏–Ω: admin / admin
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: Administration ‚Üí Security ‚Üí Users ‚Üí Tokens
4. –ù–∞–∂–º–∏—Ç–µ: "Generate Token"
5. –ù–∞–∑–≤–∞–Ω–∏–µ: "CI/CD Token"
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è:**
```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
$token = Read-Host "–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω SonarQube"
.\ci\scripts\verify-sonar-token.ps1 -Token $token
```

---

### **–®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞ Redmine**

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
```powershell
# –°–∫—Ä–∏–ø—Ç –æ—Ç–∫—Ä–æ–µ—Ç –±—Ä–∞—É–∑–µ—Ä –∏ –ø–æ–∫–∞–∂–µ—Ç —Ç–æ—á–Ω—ã–µ —à–∞–≥–∏
.\ci\scripts\get-redmine-api-key.ps1
```

**–†—É—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:3000
2. –õ–æ–≥–∏–Ω: admin / admin
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: My Account ‚Üí API access key
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ API –∫–ª—é—á

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è:**
```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–∞
$apiKey = Read-Host "–í–≤–µ–¥–∏—Ç–µ API –∫–ª—é—á Redmine"
.\ci\scripts\verify-redmine-api.ps1 -ApiKey $apiKey
```

---

### **–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ 1–°**

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
.\ci\scripts\check-storage-access.ps1 -StoragePath "file://C:/1crepository"
```

**–†—É—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è):**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ 1–° –¥–æ—Å—Ç—É–ø–Ω–æ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –£–∫–∞–∂–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## üöÄ **–ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò**

### **–≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤** (2-3 —á–∞—Å–∞)
1. ‚úÖ `setup-gitlab-variables.ps1`
2. ‚úÖ `verify-bsl-plugin.ps1`
3. ‚úÖ `setup-redmine-project.ps1`

### **–≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ Git —Å–∫—Ä–∏–ø—Ç–æ–≤** (1-2 —á–∞—Å–∞)
1. ‚úÖ `initial-git-setup.ps1`
2. ‚úÖ `check-storage-access.ps1`

### **–≠—Ç–∞–ø 3: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤** (2-3 —á–∞—Å–∞)
1. ‚úÖ `test-full-pipeline.ps1`
2. ‚úÖ `verify-sonar-token.ps1`
3. ‚úÖ `verify-redmine-api.ps1`

### **–≠—Ç–∞–ø 4: –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏** (1-2 —á–∞—Å–∞)
1. ‚úÖ `complete-setup.ps1`

---

## üìä **–†–ï–ó–£–õ–¨–¢–ê–¢ –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–ò**

### **–î–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:**
- ‚è±Ô∏è **–í—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** 2-3 —á–∞—Å–∞
- üîß **–†—É—á–Ω—ã—Ö —à–∞–≥–æ–≤:** 15-20
- ‚ùå **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–æ–∫:** –í—ã—Å–æ–∫–∞—è

### **–ü–æ—Å–ª–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:**
- ‚è±Ô∏è **–í—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** 30-45 –º–∏–Ω—É—Ç
- üîß **–†—É—á–Ω—ã—Ö —à–∞–≥–æ–≤:** 3-5
- ‚úÖ **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–æ–∫:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è

### **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:**
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è GitLab Runner
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Redmine
- ‚úÖ –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Git
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ pipeline

### **–†—É—á–Ω—ã–µ —à–∞–≥–∏ (—Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏):**
- üîß –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ SonarQube
- üîß –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞ Redmine
- üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É 1–°

---

## üéØ **–ò–¢–û–ì–û–í–ê–Ø –¶–ï–õ–¨**

**–û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
```powershell
.\ci\scripts\complete-setup.ps1 -RepoPassword "–ø–∞—Ä–æ–ª—å" -SonarToken "—Ç–æ–∫–µ–Ω" -RedmineApiKey "–∫–ª—é—á"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—é—â–∏–π CI/CD pipeline –æ—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ 1–° –¥–æ Redmine —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ä—É—á–Ω—ã–º –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º.

# ‚úÖ SonarQube –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!

**–î–∞—Ç–∞**: 12 –Ω–æ—è–±—Ä—è 2025  
**–í—Ä–µ–º—è**: –¢–µ–∫—É—â–µ–µ

## üéâ –°—Ç–∞—Ç—É—Å SonarQube

### –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **URL**: http://localhost:9000
- **–í–µ—Ä—Å–∏—è**: 25.11.0.114957
- **–°—Ç–∞—Ç—É—Å**: UP ‚úÖ
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL (postgres_cicd)

### –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–õ–æ–≥–∏–Ω**: admin
- **–ü–∞—Ä–æ–ª—å**: SonarAdmin123!
- **API Token**: YOUR_SONARQUBE_TOKEN_HERE
- **–¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω**: secrets/sonarqube_token.txt

## üìä –°–æ–∑–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã

### 1. UT103 Configuration (ut103-ci)
- **Project Key**: ut103-ci
- **–ù–∞–∑–≤–∞–Ω–∏–µ**: UT103 Configuration
- **URL**: http://localhost:9000/dashboard?id=ut103-ci
- **Quality Gate**: Sonar way (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–Ω–∞–ª–∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ 1–°

### 2. UT103 External Files (ut103-external-files)
- **Project Key**: ut103-external-files
- **–ù–∞–∑–≤–∞–Ω–∏–µ**: UT103 External Files
- **URL**: http://localhost:9000/dashboard?id=ut103-external-files
- **Quality Gate**: Sonar way (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–Ω–∞–ª–∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –æ—Ç—á–µ—Ç–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–æ–∫ 1–°

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GitLab

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

–î–ª—è –æ–±–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ GitLab (ut103-ci –∏ ut103-external-files) –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:

1. **SONARQUBE_URL**: http://sonarqube:9000
   - –î–æ—Å—Ç—É–ø: –Ω–µ –∑–∞—â–∏—â–µ–Ω–∞, –Ω–µ —Å–∫—Ä—ã—Ç–∞
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: URL –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ SonarQube –∏–∑ CI/CD

2. **SONARQUBE_TOKEN**: YOUR_SONARQUBE_TOKEN_HERE
   - –î–æ—Å—Ç—É–ø: –∑–∞—â–∏—â–µ–Ω–∞, —Å–∫—Ä—ã—Ç–∞
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ SonarQube API

3. **SONARQUBE_PROJECT_KEY**: ut103-ci / ut103-external-files
   - –î–æ—Å—Ç—É–ø: –Ω–µ –∑–∞—â–∏—â–µ–Ω–∞, –Ω–µ —Å–∫—Ä—ã—Ç–∞
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

1. ‚úÖ SonarQube –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
3. ‚úÖ –ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω
4. ‚úÖ API —Ç–æ–∫–µ–Ω —Å–æ–∑–¥–∞–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω
5. ‚úÖ –ü—Ä–æ–µ–∫—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–∑–¥–∞–Ω—ã
6. ‚úÖ Quality Gates –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
7. ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ GitLab –æ–±–Ω–æ–≤–ª–µ–Ω—ã
8. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GitLab –≥–æ—Ç–æ–≤–∞

### üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

#### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –ø–∞–π–ø–ª–∞–π–Ω –≤ GitLab
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∞–Ω–∞–ª–∏–∑ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ SonarQube
```

#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD Service
- –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ docker-compose
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å cicd-service –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ 1–°
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–¥–∞—á—É –≤ Redmine
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª: GitSync ‚Üí GitLab ‚Üí SonarQube ‚Üí Redmine

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```powershell
# –°—Ç–∞—Ç—É—Å SonarQube
curl.exe http://localhost:9000/api/system/status

# –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
curl.exe -u admin:SonarAdmin123! http://localhost:9000/api/projects/search

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Quality Gates
curl.exe -u admin:SonarAdmin123! http://localhost:9000/api/qualitygates/list
```

### –î–æ—Å—Ç—É–ø –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:9000
2. –í–æ–π–¥–∏—Ç–µ: admin / SonarAdmin123!
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –ø—Ä–æ–µ–∫—Ç–∞–º:
   - http://localhost:9000/dashboard?id=ut103-ci
   - http://localhost:9000/dashboard?id=ut103-external-files

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ SonarQube
```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker stop sonarqube-cicd

# –ó–∞–ø—É—Å–∫
docker start sonarqube-cicd

# –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (2-3 –º–∏–Ω—É—Ç—ã)
Start-Sleep -Seconds 180
curl.exe http://localhost:9000/api/system/status
```

### –õ–æ–≥–∏
```powershell
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
docker logs sonarqube-cicd --tail 50

# –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker logs sonarqube-cicd -f
```

## üìä –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

| –°–µ—Ä–≤–∏—Å | –°—Ç–∞—Ç—É—Å | URL | –ü–æ—Ä—Ç |
|--------|--------|-----|------|
| PostgreSQL | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | localhost | 5433 |
| Redmine | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | http://localhost:3000 | 3000 |
| GitLab | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | http://localhost:8929 | 8929 |
| SonarQube | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | http://localhost:9000 | 9000 |
| CI/CD Service | ‚è≥ –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | http://localhost:8090 | 8090 |

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å**: ~85% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:
- ‚úÖ SonarQube –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü–∞—Ä–æ–ª—å –∏–∑–º–µ–Ω–µ–Ω —Å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ
- ‚úÖ API —Ç–æ–∫–µ–Ω —Å–æ–∑–¥–∞–Ω
- ‚úÖ –ü—Ä–æ–µ–∫—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –≤ SonarQube
- ‚úÖ Quality Gates –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ GitLab –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

## üí° –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

1. **–¢–æ–∫–µ–Ω SonarQube** —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ `secrets/sonarqube_token.txt`
2. **–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** –∏–∑–º–µ–Ω–µ–Ω —Å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ `admin` –Ω–∞ `SonarAdmin123!`
3. **Quality Gate** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π "Sonar way"
4. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ GitLab** –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –æ–±–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
5. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** –±—ã–ª–∞ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è —á–∏—Å—Ç–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω —Å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ
- API —Ç–æ–∫–µ–Ω –∑–∞—â–∏—â–µ–Ω –∏ —Å–∫—Ä—ã—Ç –≤ GitLab
- –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ (secrets/)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1. –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ SonarQube
2. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–π—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## üìà –°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD Service

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ:
1. –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ docker-compose-full-stack.yml
2. –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω SonarQube –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å cicd-service
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```powershell
# –û–±–Ω–æ–≤–∏—Ç—å docker-compose —Å –Ω–æ–≤—ã–º —Ç–æ–∫–µ–Ω–æ–º SonarQube
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å cicd-service
docker-compose -f docker-compose-full-stack.yml restart cicd-service

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs cicd-service-final -f
```

---

**üéâ SonarQube –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! –ú–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ CI/CD Service –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.**

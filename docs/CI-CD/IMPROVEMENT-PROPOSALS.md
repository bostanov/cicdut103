# –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏—é CI/CD –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-10-14  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è](#–∞–Ω–∞–ª–∏–∑-—Ç–µ–∫—É—â–µ–≥–æ-—Å–æ—Å—Ç–æ—è–Ω–∏—è)
2. [–í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã](#–≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã)
3. [–ö—Ä–∏—Ç–∏—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è](#–∫—Ä–∏—Ç–∏—á–Ω—ã–µ-—É–ª—É—á—à–µ–Ω–∏—è)
4. [–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è](#—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ-—É–ª—É—á—à–µ–Ω–∏—è)
5. [–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è](#–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-—É–ª—É—á—à–µ–Ω–∏—è)
6. [–ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è](#–ø–ª–∞–Ω-–≤–Ω–µ–¥—Ä–µ–Ω–∏—è)

---

## 1. –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### ‚úÖ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (90% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏):**
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç (PostgreSQL, GitLab, SonarQube, Redmine)
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (Git, Docker, Python, SonarScanner, GitLab Runner)
- ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- ‚úÖ CI/CD –ø–∞–π–ø–ª–∞–π–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω (9 —Å—Ç–∞–¥–∏–π)
- ‚úÖ 19 —Å–∫—Ä–∏–ø—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ú–∞—Å—Ç–µ—Ä-—Å–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

**–ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (3/8 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤):**
- ‚ùå 1C Platform 8.3.12.1714 - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- ‚ùå OneScript - –≤–∞–∂–Ω–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ 1–° –∑–∞–¥–∞—á
- ‚ùå GitSync3 - –≤–∞–∂–Ω–æ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º 1–°
- ‚ö†Ô∏è precommit1c - –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ PyPI (–æ—à–∏–±–∫–∞ –≤ –ø–ª–∞–Ω–µ)

**–ü—Ä–æ–±–ª–µ–º—ã PATH:**
- ‚ö†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (SonarScanner, GitLab Runner) –Ω–µ –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º PATH
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏

**–†—É—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:**
- ‚è≥ GitLab Runner —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚è≥ Redmine REST API —Ç—Ä–µ–±—É–µ—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- ‚è≥ BSL –ø–ª–∞–≥–∏–Ω –¥–ª—è SonarQube –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

---

## 2. –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 2.1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ 1C Platform

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ–≤–æ–∑–º–æ–∂–µ–Ω —ç–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ 1–°
- Stage 9 (sync) –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω
- –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª CI/CD –¥–ª—è 1–° –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

**–í–ª–∏—è–Ω–∏–µ:** –í–´–°–û–ö–û–ï  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
# 1. –°–∫–∞—á–∞—Ç—å 1C Platform 8.3.12+ —Å –ø–æ—Ä—Ç–∞–ª–∞ releases.1c.ru
# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—É—Ç—å: C:\Program Files\1cv8\8.3.12.1714
# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
& "C:\Program Files\1cv8\8.3.12.1714\bin\1cv8.exe" /version
```

#### 2.2. PATH –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
- SonarScanner –∏ GitLab Runner —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, –Ω–æ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ PATH
- –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º–∏ –ø—É—Ç—è–º–∏ (—Ö—Ä—É–ø–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- –ê—É–¥–∏—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–∞–∫ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ

**–í–ª–∏—è–Ω–∏–µ:** –°–†–ï–î–ù–ï–ï  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô

**–†–µ—à–µ–Ω–∏–µ:**
–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ PATH —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

```powershell
# ci/scripts/fix-path-permanent.ps1
param()

$pathsToAdd = @(
    "C:\Tools\sonar-scanner\bin",
    "C:\Tools\gitlab-runner"
)

Write-Host "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π PATH..." -ForegroundColor Yellow

$currentPath = [Environment]::GetEnvironmentVariable("Path", "Machine")

foreach ($path in $pathsToAdd) {
    if ($currentPath -notlike "*$path*") {
        $newPath = $currentPath + ";$path"
        [Environment]::SetEnvironmentVariable("Path", $newPath, "Machine")
        Write-Host "‚úì –î–æ–±–∞–≤–ª–µ–Ω: $path" -ForegroundColor Green
    } else {
        Write-Host "‚óã –£–∂–µ –≤ PATH: $path" -ForegroundColor Gray
    }
}

Write-Host "`n–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ PowerShell –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π." -ForegroundColor Yellow
```

#### 2.3. GitLab Runner –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Runner —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–æ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ GitLab
- CI/CD –ø–∞–π–ø–ª–∞–π–Ω –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ GitLab

**–í–ª–∏—è–Ω–∏–µ:** –í–´–°–û–ö–û–ï  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô

**–†–µ—à–µ–Ω–∏–µ:**
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ GitLab (—Å–º. —Ä–∞–∑–¥–µ–ª 3.1)

### üü° –í–∞–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 2.4. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ OneScript

**–ü—Ä–æ–±–ª–µ–º–∞:**
- OneScript - —Å–∫—Ä–∏–ø—Ç–æ–≤—ã–π –¥–≤–∏–∂–æ–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ 1–°
- –ú–Ω–æ–≥–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –º–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –µ–≥–æ
- GitHub API –±—ã–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

**–í–ª–∏—è–Ω–∏–µ:** –°–†–ï–î–ù–ï–ï  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–´–°–û–ö–ò–ô

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
# –°–∫–∞—á–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
$version = "1.9.0" # –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è
$url = "https://github.com/EvilBeaver/OneScript/releases/download/v$version/OneScript-$version-x64.msi"
$output = "$env:TEMP\onescript-setup.msi"
Invoke-WebRequest -Uri $url -OutFile $output -UseBasicParsing
Start-Process msiexec.exe -ArgumentList "/i `"$output`" /qn /norestart" -Wait
```

#### 2.5. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ GitSync3

**–ü—Ä–æ–±–ª–µ–º–∞:**
- GitSync3 - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ 1–° —Å Git
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º—É —Å–∫—Ä–∏–ø—Ç—É —ç–∫—Å–ø–æ—Ä—Ç–∞
- GitHub API –±—ã–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

**–í–ª–∏—è–Ω–∏–µ:** –ù–ò–ó–ö–û–ï (–µ—Å—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - –ø—Ä—è–º–æ–π —ç–∫—Å–ø–æ—Ä—Ç)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
# –°–∫–∞—á–∞—Ç—å –≤—Ä—É—á–Ω—É—é
$url = "https://github.com/oscript-library/gitsync/releases/latest"
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
```

#### 2.6. BSL –ø–ª–∞–≥–∏–Ω –¥–ª—è SonarQube –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**–ü—Ä–æ–±–ª–µ–º–∞:**
- SonarQube –±–µ–∑ BSL –ø–ª–∞–≥–∏–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ 1–°
- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è quality gate –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è 1–° –∫–æ–¥–∞
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–∞–≥–∏–Ω–∞ –±—ã–ª–∞ –ø—Ä–µ—Ä–≤–∞–Ω–∞

**–í–ª–∏—è–Ω–∏–µ:** –í–´–°–û–ö–û–ï  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–´–°–û–ö–ò–ô

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
# ci/scripts/install-bsl-plugin.ps1
$version = "1.9.1"
$pluginUrl = "https://github.com/1c-syntax/sonar-bsl-plugin-community/releases/download/v${version}/sonar-bsl-plugin-community-${version}.jar"
$extensionsPath = "C:\docker\sonarqube\extensions"

Write-Host "–ó–∞–≥—Ä—É–∑–∫–∞ BSL –ø–ª–∞–≥–∏–Ω–∞ –¥–ª—è SonarQube..." -ForegroundColor Yellow

try {
    if (-not (Test-Path $extensionsPath)) {
        New-Item -ItemType Directory -Path $extensionsPath -Force | Out-Null
    }
    
    $pluginFile = "$extensionsPath\sonar-bsl-plugin-community-${version}.jar"
    Invoke-WebRequest -Uri $pluginUrl -OutFile $pluginFile -UseBasicParsing
    
    Write-Host "‚úì –ü–ª–∞–≥–∏–Ω –∑–∞–≥—Ä—É–∂–µ–Ω: $pluginFile" -ForegroundColor Green
    Write-Host "–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ SonarQube: docker restart sonarqube" -ForegroundColor Yellow
} catch {
    Write-Host "‚úó –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: $_" -ForegroundColor Red
    Write-Host "–°–∫–∞—á–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é: $pluginUrl" -ForegroundColor Yellow
}
```

### üü¢ –ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 2.7. precommit1c –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í –ø–ª–∞–Ω–µ —É–∫–∞–∑–∞–Ω –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–∞–∫–µ—Ç Python "precommit1c"
- –í–µ—Ä–æ—è—Ç–Ω–æ, –∏–º–µ–ª—Å—è –≤ –≤–∏–¥—É –¥—Ä—É–≥–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏

**–í–ª–∏—è–Ω–∏–µ:** –ù–ò–ó–ö–û–ï  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–ò–ó–ö–ò–ô

**–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ Git —Ö—É–∫–∏ –∏–ª–∏ BSL Language Server –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

## 3. –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 3.1. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ GitLab Runner

**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**  
–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –≤ GitLab.

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GitLab API:

```powershell
# ci/scripts/register-runner-auto.ps1
param(
    [string]$GitLabUrl = "http://localhost:8929",
    [string]$RootPassword = "Gitlab123Admin!",
    [string]$ProjectName = "ut103",
    [string]$RunnerName = "1C-CI-CD-Runner"
)

# 1. –ü–æ–ª—É—á–∏—Ç—å Personal Access Token —á–µ—Ä–µ–∑ API
$session = Invoke-WebRequest -Uri "$GitLabUrl/users/sign_in" -SessionVariable 'Session' -UseBasicParsing
$token = ($session.Content | Select-String -Pattern 'authenticity_token.*?value="(.*?)"').Matches[0].Groups[1].Value

$loginData = @{
    'user[login]' = 'root'
    'user[password]' = $RootPassword
    'authenticity_token' = $token
}

Invoke-WebRequest -Uri "$GitLabUrl/users/sign_in" -Method POST -Body $loginData -WebSession $Session -UseBasicParsing

# 2. –°–æ–∑–¥–∞—Ç—å Personal Access Token
$apiToken = Invoke-RestMethod -Uri "$GitLabUrl/api/v4/user/personal_access_tokens" `
    -Method POST `
    -WebSession $Session `
    -Body @{
        name = "runner-registration"
        scopes = @("api")
    }

# 3. –ü–æ–ª—É—á–∏—Ç—å registration token –ø—Ä–æ–µ–∫—Ç–∞
$project = Invoke-RestMethod -Uri "$GitLabUrl/api/v4/projects?search=$ProjectName" `
    -Headers @{ "PRIVATE-TOKEN" = $apiToken.token }

$runnersInfo = Invoke-RestMethod -Uri "$GitLabUrl/api/v4/projects/$($project[0].id)/runners" `
    -Headers @{ "PRIVATE-TOKEN" = $apiToken.token }

# 4. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å runner
C:\Tools\gitlab-runner\gitlab-runner.exe register `
    --non-interactive `
    --url $GitLabUrl `
    --registration-token $runnersInfo.registration_token `
    --name $RunnerName `
    --executor shell `
    --tag-list "windows,1c"

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫ —Å–µ—Ä–≤–∏—Å
C:\Tools\gitlab-runner\gitlab-runner.exe install --user "ci_1c"
C:\Tools\gitlab-runner\gitlab-runner.exe start

Write-Host "‚úì GitLab Runner –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∏ –∑–∞–ø—É—â–µ–Ω" -ForegroundColor Green
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω –≤ setup-all.ps1

### 3.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –ø–µ—Ä–µ–¥ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π

**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**  
–°–∫—Ä–∏–ø—Ç—ã setup –æ–∂–∏–¥–∞—é—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏, –Ω–æ –º–æ–≥—É—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —Å —Ç–∞–π–º–∞—É—Ç–æ–º.

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
–°–æ–∑–¥–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –æ–∂–∏–¥–∞–Ω–∏—è:

```powershell
# ci/scripts/wait-for-services.ps1
param(
    [int]$TimeoutMinutes = 10
)

function Wait-ForService {
    param($Name, $Url, $HealthCheck)
    
    Write-Host "–û–∂–∏–¥–∞–Ω–∏–µ $Name..." -ForegroundColor Yellow
    $timeout = (Get-Date).AddMinutes($TimeoutMinutes)
    
    while ((Get-Date) -lt $timeout) {
        try {
            $result = & $HealthCheck
            if ($result) {
                Write-Host "‚úì $Name –≥–æ—Ç–æ–≤" -ForegroundColor Green
                return $true
            }
        } catch {}
        
        Start-Sleep -Seconds 10
    }
    
    Write-Host "‚úó $Name –Ω–µ –≥–æ—Ç–æ–≤ –ø–æ—Å–ª–µ $TimeoutMinutes –º–∏–Ω—É—Ç" -ForegroundColor Red
    return $false
}

# GitLab
$gitlabReady = Wait-ForService "GitLab" "http://localhost:8929" {
    $r = Invoke-WebRequest -Uri "http://localhost:8929/-/health" -UseBasicParsing -TimeoutSec 5 -ErrorAction SilentlyContinue
    return $r.StatusCode -eq 200
}

# SonarQube
$sonarReady = Wait-ForService "SonarQube" "http://localhost:9000" {
    $r = Invoke-WebRequest -Uri "http://localhost:9000/api/system/status" -UseBasicParsing -TimeoutSec 5 -ErrorAction SilentlyContinue
    $status = ($r.Content | ConvertFrom-Json).status
    return $status -eq "UP"
}

# Redmine
$redmineReady = Wait-ForService "Redmine" "http://localhost:3000" {
    $r = Invoke-WebRequest -Uri "http://localhost:3000" -UseBasicParsing -TimeoutSec 5 -ErrorAction SilentlyContinue
    return $r.StatusCode -eq 200
}

if ($gitlabReady -and $sonarReady -and $redmineReady) {
    Write-Host "`n‚úì –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≥–æ—Ç–æ–≤—ã" -ForegroundColor Green
    exit 0
} else {
    Write-Host "`n‚úó –ù–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≥–æ—Ç–æ–≤—ã" -ForegroundColor Red
    exit 1
}
```

### 3.3. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**  
–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –¥–∞–Ω–Ω—ã—Ö.

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
```powershell
# ci/scripts/backup-configs.ps1
param(
    [string]$BackupPath = "C:\Backups\1C-CI-CD"
)

$timestamp = Get-Date -Format "yyyyMMdd-HHmmss"
$backupDir = "$BackupPath\$timestamp"

Write-Host "–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏..." -ForegroundColor Yellow

# 1. –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
New-Item -ItemType Directory -Path $backupDir -Force | Out-Null

# 2. Backup Docker volumes
docker run --rm -v postgres_data:/data -v $backupDir:/backup alpine tar czf /backup/postgres_data.tar.gz /data

# 3. Backup –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
$configFiles = @(
    "ci/config/*.json",
    "sonar-project.properties",
    ".gitlab-ci.yml",
    "build/audit/*.json"
)

foreach ($pattern in $configFiles) {
    Copy-Item $pattern $backupDir -Recurse -ErrorAction SilentlyContinue
}

# 4. Export GitLab configuration
docker exec gitlab gitlab-rake gitlab:backup:create

Write-Host "‚úì –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–æ–∑–¥–∞–Ω–∞: $backupDir" -ForegroundColor Green
```

---

## 4. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 4.1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å Prometheus + Grafana –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

```yaml
# docker-compose.yml (–¥–æ–±–∞–≤–∏—Ç—å)
version: '3.8'

services:
  prometheus:
    image: prom/prometheus:latest
    ports:
      - "9090:9090"
    volumes:
      - ./monitoring/prometheus.yml:/etc/prometheus/prometheus.yml
      - prometheus_data:/prometheus
    command:
      - '--config.file=/etc/prometheus/prometheus.yml'
      - '--storage.tsdb.path=/prometheus'
    restart: unless-stopped

  grafana:
    image: grafana/grafana:latest
    ports:
      - "3001:3000"
    volumes:
      - grafana_data:/var/lib/grafana
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin
    restart: unless-stopped

  node-exporter:
    image: prom/node-exporter:latest
    ports:
      - "9100:9100"
    restart: unless-stopped

volumes:
  prometheus_data:
  grafana_data:
```

### 4.2. –£–ª—É—á—à–µ–Ω–∏–µ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞

**–¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- –í—Å–µ job'—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ —É—Å–ª–æ–≤–∏—é –∏–ª–∏ –≤—Ä—É—á–Ω—É—é
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∑–∞–ø—É—Å–∫–∞:

```yaml
# .gitlab-ci.yml - —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –∫–æ–º–º–∏—Ç–æ–≤ –≤ master
default_pipeline:
  stage: sync
  rules:
    - if: '$CI_COMMIT_BRANCH == "master"'
  script:
    - powershell -ExecutionPolicy Bypass -File ci/scripts/export-from-storage.ps1

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è merge requests
test_pipeline:
  stage: lint-bsl
  rules:
    - if: '$CI_PIPELINE_SOURCE == "merge_request_event"'
  script:
    - powershell -ExecutionPolicy Bypass -File ci/scripts/lint-bsl.ps1

# –ù–æ—á–Ω–∞—è —Å–±–æ—Ä–∫–∞
nightly_build:
  stage: build-compile
  rules:
    - if: '$CI_PIPELINE_SOURCE == "schedule"'
  script:
    - powershell -ExecutionPolicy Bypass -File ci/scripts/build-compile.ps1
```

### 4.3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
```yaml
cache:
  key: ${CI_COMMIT_REF_SLUG}
  paths:
    - .sonar/cache
    - build/cache

.1c_cache:
  cache:
    key: 1c-platform-cache
    paths:
      - build/ib/cache
```

### 4.4. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
```yaml
lint_bsl:
  parallel:
    matrix:
      - MODULE: [Configuration, CommonModules, Catalogs, Documents]
  script:
    - powershell -ExecutionPolicy Bypass -File ci/scripts/lint-bsl.ps1 -Module $MODULE
```

### 4.5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Slack/Teams –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
```powershell
# ci/scripts/notify-teams.ps1
param(
    [string]$WebhookUrl,
    [string]$Message,
    [string]$Status # Success, Failure, Warning
)

$color = switch ($Status) {
    "Success" { "00FF00" }
    "Failure" { "FF0000" }
    "Warning" { "FFA500" }
}

$body = @{
    "@type" = "MessageCard"
    "@context" = "http://schema.org/extensions"
    "themeColor" = $color
    "summary" = "CI/CD Pipeline Update"
    "sections" = @(
        @{
            "activityTitle" = "1C CI/CD Pipeline"
            "activitySubtitle" = $Message
            "facts" = @(
                @{ name = "Status"; value = $Status },
                @{ name = "Branch"; value = $env:CI_COMMIT_REF_NAME },
                @{ name = "Commit"; value = $env:CI_COMMIT_SHORT_SHA }
            )
        }
    )
} | ConvertTo-Json -Depth 10

Invoke-RestMethod -Uri $WebhookUrl -Method Post -Body $body -ContentType "application/json"
```

---

## 5. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 5.1. Docker Compose –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
–°–æ–∑–¥–∞—Ç—å docker-compose.yml –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏:

```yaml
version: '3.8'

services:
  postgres:
    image: postgres:14
    container_name: postgres_unified
    ports:
      - "5432:5432"
    environment:
      POSTGRES_PASSWORD: postgres_admin_123
    volumes:
      - postgres_data:/var/lib/postgresql/data
    restart: unless-stopped

  gitlab:
    image: gitlab/gitlab-ce:latest
    container_name: gitlab
    hostname: ${HOSTNAME}
    ports:
      - "8929:80"
      - "2224:22"
    environment:
      GITLAB_ROOT_PASSWORD: Gitlab123Admin!
      GITLAB_OMNIBUS_CONFIG: |
        external_url 'http://${HOSTNAME}:8929'
        gitlab_rails['gitlab_shell_ssh_port'] = 2224
    volumes:
      - gitlab_config:/etc/gitlab
      - gitlab_logs:/var/log/gitlab
      - gitlab_data:/var/opt/gitlab
    restart: unless-stopped
    shm_size: 256m

  sonarqube:
    image: sonarqube:10.3-community
    container_name: sonarqube
    ports:
      - "9000:9000"
    environment:
      SONAR_JDBC_URL: jdbc:postgresql://postgres:5432/sonar
      SONAR_JDBC_USERNAME: sonar
      SONAR_JDBC_PASSWORD: sonar
    volumes:
      - sonarqube_data:/opt/sonarqube/data
      - sonarqube_logs:/opt/sonarqube/logs
      - sonarqube_extensions:/opt/sonarqube/extensions
    depends_on:
      - postgres
    restart: unless-stopped

  redmine:
    image: redmine:5
    container_name: redmine
    ports:
      - "3000:3000"
    environment:
      REDMINE_DB_POSTGRES: postgres
      REDMINE_DB_PORT: 5432
      REDMINE_DB_DATABASE: redmine
      REDMINE_DB_USERNAME: redmine
      REDMINE_DB_PASSWORD: redmine
    depends_on:
      - postgres
    restart: unless-stopped

volumes:
  postgres_data:
  gitlab_config:
  gitlab_logs:
  gitlab_data:
  sonarqube_data:
  sonarqube_logs:
  sonarqube_extensions:
```

**–ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```powershell
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart sonarqube
```

### 5.2. Healthcheck endpoints

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å healthcheck –≤ docker-compose:

```yaml
services:
  sonarqube:
    healthcheck:
      test: ["CMD", "wget", "-q", "--spider", "http://localhost:9000/api/system/status"]
      interval: 30s
      timeout: 10s
      retries: 5
      start_period: 5m
```

### 5.3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
```powershell
# ci/scripts/update-containers.ps1
docker-compose pull
docker-compose up -d --remove-orphans
docker image prune -f
```

### 5.4. Integration Tests

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
```powershell
# ci/scripts/integration-tests.ps1
Describe "CI/CD Infrastructure Tests" {
    It "PostgreSQL should be accessible" {
        docker exec postgres_unified pg_isready -U postgres | Should -Match "accepting connections"
    }
    
    It "GitLab should be running" {
        $r = Invoke-WebRequest -Uri "http://localhost:8929" -UseBasicParsing
        $r.StatusCode | Should -Be 200
    }
    
    It "SonarQube should be UP" {
        $r = Invoke-WebRequest -Uri "http://localhost:9000/api/system/status" -UseBasicParsing
        ($r.Content | ConvertFrom-Json).status | Should -Be "UP"
    }
}
```

### 5.5. Secrets Management

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**  
–ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö.

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HashiCorp Vault –∏–ª–∏ GitLab CI/CD Variables:

```yaml
# .gitlab-ci.yml
variables:
  SONAR_TOKEN: ${CI_SONAR_TOKEN}
  REDMINE_API_KEY: ${CI_REDMINE_API_KEY}
  1C_STORAGE_USER: ${CI_1C_USER}
  1C_STORAGE_PASSWORD: ${CI_1C_PASSWORD}
```

---

## 6. –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (1-2 –¥–Ω—è)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô

1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 1C Platform 8.3.12+
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å –ø–æ—Ä—Ç–∞–ª–∞ 1–°
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—É—Ç—å
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å PATH
   - –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç fix-path-permanent.ps1
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PowerShell
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å audit-tools.ps1

3. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å BSL –ø–ª–∞–≥–∏–Ω –¥–ª—è SonarQube
   - –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç install-bsl-plugin.ps1
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–ª–∞–≥–∏–Ω
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å SonarQube
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ UI

4. ‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å GitLab Runner
   - –î–æ–∂–¥–∞—Ç—å—Å—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ GitLab
   - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç ut103
   - –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π pipeline

### –§–∞–∑–∞ 2: –í–∞–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (3-5 –¥–Ω–µ–π)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–´–°–û–ö–ò–ô

1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å OneScript
   - –°–∫–∞—á–∞—Ç—å MSI —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å oscript --version

2. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ Runner
   - –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç register-runner-auto.ps1
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ setup-all.ps1
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

3. ‚úÖ –£–ª—É—á—à–∏—Ç—å wait-for-services
   - –°–æ–∑–¥–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –æ–∂–∏–¥–∞–Ω–∏—è
   - –î–æ–±–∞–≤–∏—Ç—å health checks
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ setup-all.ps1

4. ‚úÖ –°–æ–∑–¥–∞—Ç—å backup-configs.ps1
   - –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ Docker volumes
   - –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

5. ‚úÖ –£–ª—É—á—à–∏—Ç—å CI/CD –ø–∞–π–ø–ª–∞–π–Ω
   - –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –§–∞–∑–∞ 3: –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (1-2 –Ω–µ–¥–µ–ª–∏)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –°–†–ï–î–ù–ò–ô

1. ‚≠ï –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus + Grafana)
   - –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏
   - –°–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥—ã

2. ‚≠ï Docker Compose
   - –°–æ–∑–¥–∞—Ç—å docker-compose.yml
   - –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
   - –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

3. ‚≠ï –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Teams/Slack
   - –°–æ–∑–¥–∞—Ç—å webhook
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å notify-teams.ps1
   - –î–æ–±–∞–≤–∏—Ç—å –≤ pipeline

4. ‚≠ï Integration Tests
   - –ù–∞–ø–∏—Å–∞—Ç—å Pester —Ç–µ—Å—Ç—ã
   - –î–æ–±–∞–≤–∏—Ç—å –≤ CI/CD
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç—á–µ—Ç—ã

### –§–∞–∑–∞ 4: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–ò–ó–ö–ò–ô

1. ‚≠ï Secrets Management
2. ‚≠ï Auto-update –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
3. ‚≠ï Advanced monitoring
4. ‚≠ï Performance tuning

---

## 7. –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### KPI –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å: 90%
- üéØ –¶–µ–ª–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å: 95%
- üìä –ú–µ—Ç—Ä–∏–∫–∞: % –∑–∞–¥–∞—á, –Ω–µ —Ç—Ä–µ–±—É—é—â–∏—Ö —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞

**–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- ‚úÖ –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å: 85% (–Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)
- üéØ –¶–µ–ª–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å: 99%
- üìä –ú–µ—Ç—Ä–∏–∫–∞: –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞

**–í—Ä–µ–º—è –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: 5-10 –º–∏–Ω—É—Ç (—Å —Ä—É—á–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏)
- üéØ –¶–µ–ª–µ–≤–æ–µ –≤—Ä–µ–º—è: 3 –º–∏–Ω—É—Ç—ã (–ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- üìä –ú–µ—Ç—Ä–∏–∫–∞: –û—Ç –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ CI/CD

**–ü–æ–∫—Ä—ã—Ç–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π:**
- ‚úÖ –¢–µ–∫—É—â–µ–µ: 100% (–æ—Ç–ª–∏—á–Ω–æ)
- üéØ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å: 100%
- üìä –ú–µ—Ç—Ä–∏–∫–∞: % —Ñ—É–Ω–∫—Ü–∏–π —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

---

## 8. –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ (4/5)

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ (90%)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã

**–°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (1C Platform)
- ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã —Å PATH
- ‚ö†Ô∏è –†—É—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

**–í –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å (—Å–µ–≥–æ–¥–Ω—è-–∑–∞–≤—Ç—Ä–∞):**
1. üî¥ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 1C Platform
2. üî¥ –ò—Å–ø—Ä–∞–≤–∏—Ç—å PATH (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ)
3. üî¥ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å BSL –ø–ª–∞–≥–∏–Ω
4. üî¥ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å GitLab Runner

**–ü–æ—Å–ª–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
1. üü° –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å OneScript
2. üü° –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é Runner
3. üü° –£–ª—É—á—à–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –æ–∂–∏–¥–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
4. üü° –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

**–í –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ:**
1. üü¢ –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
2. üü¢ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ Docker Compose
3. üü¢ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
4. üü¢ –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã

### –§–∏–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ—Ç–ª–∏—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ (90% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏) –∏ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π (–§–∞–∑–∞ 1) –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏.**

–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–∫—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞:
1. –£—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
3. –£–ª—É—á—à–µ–Ω–∏–∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è, –Ω–∞–¥–µ–∂–Ω–∞—è –∏ production-ready CI/CD –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ 1–° –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π.

---

**–î–∞—Ç–∞:** 2025-10-14  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-10-15 (–°–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã)  
**–ê–≤—Ç–æ—Ä:** CI/CD Infrastructure Analysis  
**–°—Ç–∞—Ç—É—Å:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã ‚úÖ

---

## ‚úÖ –û–ë–ù–û–í–õ–ï–ù–ò–ï: –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

–í—Å–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:

1. ‚úÖ `ci/scripts/fix-path-permanent.ps1` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ PATH
2. ‚úÖ `ci/scripts/install-bsl-plugin.ps1` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ BSL –ø–ª–∞–≥–∏–Ω–∞
3. ‚úÖ `ci/scripts/wait-for-services.ps1` - –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
4. ‚úÖ `ci/scripts/backup-configs.ps1` - –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
5. ‚úÖ `ci/scripts/register-runner-auto.ps1` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è GitLab Runner
6. ‚úÖ `check-environment.ps1` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
7. ‚úÖ `fix-path-run-as-admin.bat` - –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ fix-path

**–°–º. –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:** `FIXES-APPLIED.md`

